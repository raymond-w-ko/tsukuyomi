compiling:
(ns tsukuyomi.core)

IR:
NS tsukuyomi.core
RET PRIMITIVE true

Lua source code:
local tsukuyomi = tsukuyomi

tsukuyomi.set_active_namespace("tsukuyomi.core"); 
return true

********************************************************************************

compiling:
(ns tsukuyomi.core)

IR:
NS tsukuyomi.core
RET PRIMITIVE true

Lua source code:
local tsukuyomi = tsukuyomi

tsukuyomi.set_active_namespace("tsukuyomi.core"); 
return true

********************************************************************************

compiling:
(def z2ljr2jlslfl3jf 1)

IR:
DEFSYM z2ljr2jlslfl3jf := PRIMITIVE 1
RET PRIMITIVE true

Lua source code:
local tsukuyomi = tsukuyomi

local __tsukuyomi__DOT__core = tsukuyomi.get_namespace("tsukuyomi.core")

__tsukuyomi__DOT__core["z2ljr2jlslfl3jf"] = 1
return true

********************************************************************************

compiling:
(ns tsukuyomi.core)

IR:
NS tsukuyomi.core
RET PRIMITIVE true

Lua source code:
local tsukuyomi = tsukuyomi

tsukuyomi.set_active_namespace("tsukuyomi.core"); 
return true

********************************************************************************

compiling:
(def a 3)

IR:
DEFSYM a := PRIMITIVE 3
RET PRIMITIVE true

Lua source code:
local tsukuyomi = tsukuyomi

local __tsukuyomi__DOT__core = tsukuyomi.get_namespace("tsukuyomi.core")

__tsukuyomi__DOT__core["a"] = 3
return true

********************************************************************************

compiling:
(def b 4)

IR:
DEFSYM b := PRIMITIVE 4
RET PRIMITIVE true

Lua source code:
local tsukuyomi = tsukuyomi

local __tsukuyomi__DOT__core = tsukuyomi.get_namespace("tsukuyomi.core")

__tsukuyomi__DOT__core["b"] = 4
return true

********************************************************************************

compiling:
(def b a)

IR:
DEFSYM b := PRIMITIVE a
RET PRIMITIVE true

Lua source code:
local tsukuyomi = tsukuyomi

local __tsukuyomi__DOT__core = tsukuyomi.get_namespace("tsukuyomi.core")

__tsukuyomi__DOT__core["b"] = __tsukuyomi__DOT__core["a"]
return true

********************************************************************************

compiling:
(ns tsukuyomi.core)

IR:
NS tsukuyomi.core
RET PRIMITIVE true

Lua source code:
local tsukuyomi = tsukuyomi

tsukuyomi.set_active_namespace("tsukuyomi.core"); 
return true

********************************************************************************

compiling:
(def print (fn [obj] (_raw_ "print(tostring(obj))")))

IR:
DEFSYM print := FUNC obj
VARFENCE 
RET RAW print(tostring(obj))
ENDVARFENCE 
ENDFUNC 
RET PRIMITIVE true

Lua source code:
local tsukuyomi = tsukuyomi

local __tsukuyomi__DOT__core = tsukuyomi.get_namespace("tsukuyomi.core")

__tsukuyomi__DOT__core["print"] = function (obj)
	do
		return print(tostring(obj))
	end
end
return true

********************************************************************************

compiling:
(def + (fn [x y] (_raw_ "x + y")))

IR:
DEFSYM + := FUNC x, y
VARFENCE 
RET RAW x + y
ENDVARFENCE 
ENDFUNC 
RET PRIMITIVE true

Lua source code:
local tsukuyomi = tsukuyomi

local __tsukuyomi__DOT__core = tsukuyomi.get_namespace("tsukuyomi.core")

__tsukuyomi__DOT__core["+"] = function (x, y)
	do
		return x + y
	end
end
return true

********************************************************************************

compiling:
(def first (fn [cell] (_raw_ "cell[1]")))

IR:
DEFSYM first := FUNC cell
VARFENCE 
RET RAW cell[1]
ENDVARFENCE 
ENDFUNC 
RET PRIMITIVE true

Lua source code:
local tsukuyomi = tsukuyomi

local __tsukuyomi__DOT__core = tsukuyomi.get_namespace("tsukuyomi.core")

__tsukuyomi__DOT__core["first"] = function (cell)
	do
		return cell[1]
	end
end
return true

********************************************************************************

compiling:
(def rest (fn [cell] (_raw_ "cell[2]")))

IR:
DEFSYM rest := FUNC cell
VARFENCE 
RET RAW cell[2]
ENDVARFENCE 
ENDFUNC 
RET PRIMITIVE true

Lua source code:
local tsukuyomi = tsukuyomi

local __tsukuyomi__DOT__core = tsukuyomi.get_namespace("tsukuyomi.core")

__tsukuyomi__DOT__core["rest"] = function (cell)
	do
		return cell[2]
	end
end
return true

********************************************************************************

compiling:
(let [_cons (_raw_ "tsukuyomi.create_cell")] (def cons (fn [item coll] (_cons item coll))))

IR:
EMPTYVAR __let_ret_0
VARFENCE 
LETFRAME _cons
NEWLVAR _cons := RAW tsukuyomi.create_cell
VARFENCE 
DEFSYM cons := FUNC item, coll
VARFENCE 
RET CALL _cons, item, coll
ENDVARFENCE 
ENDFUNC 
SETVAR __let_ret_0 := PRIMITIVE true
ENDVARFENCE 
ENDLETFRAME 
ENDVARFENCE 
RET PRIMITIVE __let_ret_0

Lua source code:
local tsukuyomi = tsukuyomi

local __tsukuyomi__DOT__core = tsukuyomi.get_namespace("tsukuyomi.core")

local __let_ret_0
do
	local _cons = tsukuyomi.create_cell
	do
		__tsukuyomi__DOT__core["cons"] = function (item, coll)
			do
				return _cons(item, coll)
			end
		end
		__let_ret_0 = true
	end
end
return __let_ret_0

********************************************************************************

compiling:
(def second (fn [coll] (first (rest coll))))

IR:
DEFSYM second := FUNC coll
VARFENCE 
NEWLVAR __arg_1 := CALL rest, coll
RET CALL first, __arg_1
ENDVARFENCE 
ENDFUNC 
RET PRIMITIVE true

Lua source code:
local tsukuyomi = tsukuyomi

local __tsukuyomi__DOT__core = tsukuyomi.get_namespace("tsukuyomi.core")

__tsukuyomi__DOT__core["second"] = function (coll)
	do
		local __arg_1 = __tsukuyomi__DOT__core["rest"](coll)
		return __tsukuyomi__DOT__core["first"](__arg_1)
	end
end
return true

********************************************************************************

compiling:
(def test1 (fn [] (print "foobar")))

IR:
DEFSYM test1 := FUNC 
VARFENCE 
RET CALL print, "foobar"
ENDVARFENCE 
ENDFUNC 
RET PRIMITIVE true

Lua source code:
local tsukuyomi = tsukuyomi

local __tsukuyomi__DOT__core = tsukuyomi.get_namespace("tsukuyomi.core")

__tsukuyomi__DOT__core["test1"] = function ()
	do
		return __tsukuyomi__DOT__core["print"]("foobar")
	end
end
return true

********************************************************************************

compiling:
(test1)

IR:
RET CALL test1

Lua source code:
local tsukuyomi = tsukuyomi

local __tsukuyomi__DOT__core = tsukuyomi.get_namespace("tsukuyomi.core")

return __tsukuyomi__DOT__core["test1"]()

********************************************************************************

compiling:
(print "asdf")

IR:
RET CALL print, "asdf"

Lua source code:
local tsukuyomi = tsukuyomi

local __tsukuyomi__DOT__core = tsukuyomi.get_namespace("tsukuyomi.core")

return __tsukuyomi__DOT__core["print"]("asdf")

********************************************************************************

compiling:
(print (first (cons 9 (cons 8 (cons 7 nil)))))

IR:
NEWLVAR __arg_5 := CALL cons, 7, nil
NEWLVAR __arg_4 := CALL cons, 8, __arg_5
NEWLVAR __arg_3 := CALL cons, 9, __arg_4
NEWLVAR __arg_2 := CALL first, __arg_3
RET CALL print, __arg_2

Lua source code:
local tsukuyomi = tsukuyomi

local __tsukuyomi__DOT__core = tsukuyomi.get_namespace("tsukuyomi.core")

local __arg_5 = __tsukuyomi__DOT__core["cons"](7, nil)
local __arg_4 = __tsukuyomi__DOT__core["cons"](8, __arg_5)
local __arg_3 = __tsukuyomi__DOT__core["cons"](9, __arg_4)
local __arg_2 = __tsukuyomi__DOT__core["first"](__arg_3)
return __tsukuyomi__DOT__core["print"](__arg_2)

********************************************************************************

compiling:
(print (second (cons 9 (cons 8 (cons 7 nil)))))

IR:
NEWLVAR __arg_9 := CALL cons, 7, nil
NEWLVAR __arg_8 := CALL cons, 8, __arg_9
NEWLVAR __arg_7 := CALL cons, 9, __arg_8
NEWLVAR __arg_6 := CALL second, __arg_7
RET CALL print, __arg_6

Lua source code:
local tsukuyomi = tsukuyomi

local __tsukuyomi__DOT__core = tsukuyomi.get_namespace("tsukuyomi.core")

local __arg_9 = __tsukuyomi__DOT__core["cons"](7, nil)
local __arg_8 = __tsukuyomi__DOT__core["cons"](8, __arg_9)
local __arg_7 = __tsukuyomi__DOT__core["cons"](9, __arg_8)
local __arg_6 = __tsukuyomi__DOT__core["second"](__arg_7)
return __tsukuyomi__DOT__core["print"](__arg_6)

********************************************************************************

compiling:
(def user/test "lisp")

IR:
DEFSYM user/test := PRIMITIVE "lisp"
RET PRIMITIVE true

Lua source code:
local tsukuyomi = tsukuyomi

local __user = tsukuyomi.get_namespace("user")

__user["test"] = "lisp"
return true

********************************************************************************

compiling:
(def f? (fn [foo] ((fn [bar] (+ foo bar)) 42)))

IR:
DEFSYM f? := FUNC foo
VARFENCE 
NEWLVAR __arg_10 := FUNC bar
VARFENCE 
RET CALL +, foo, bar
ENDVARFENCE 
ENDFUNC 
RET CALL __arg_10, 42
ENDVARFENCE 
ENDFUNC 
RET PRIMITIVE true

Lua source code:
local tsukuyomi = tsukuyomi

local __tsukuyomi__DOT__core = tsukuyomi.get_namespace("tsukuyomi.core")

__tsukuyomi__DOT__core["f?"] = function (foo)
	do
		local function __arg_10(bar)
			do
				return __tsukuyomi__DOT__core["+"](foo, bar)
			end
		end
		return __arg_10(42)
	end
end
return true

********************************************************************************

compiling:
(print (f? 43))

IR:
NEWLVAR __arg_11 := CALL f?, 43
RET CALL print, __arg_11

Lua source code:
local tsukuyomi = tsukuyomi

local __tsukuyomi__DOT__core = tsukuyomi.get_namespace("tsukuyomi.core")

local __arg_11 = __tsukuyomi__DOT__core["f?"](43)
return __tsukuyomi__DOT__core["print"](__arg_11)

********************************************************************************

compiling:
(if false (print "pepperoni"))

IR:
EMPTYVAR __if_ret_12
VARFENCE 
NEWLVAR __cond_13 := PRIMITIVE false
IF __cond_13
SETVAR __if_ret_12 := CALL print, "pepperoni"
ELSE 
SETVAR __if_ret_12 := PRIMITIVE nil
ENDIF 
ENDVARFENCE 
RET PRIMITIVE __if_ret_12

Lua source code:
local tsukuyomi = tsukuyomi

local __tsukuyomi__DOT__core = tsukuyomi.get_namespace("tsukuyomi.core")

local __if_ret_12
do
	local __cond_13 = false
	if __cond_13 then
		__if_ret_12 = __tsukuyomi__DOT__core["print"]("pepperoni")
	else
		__if_ret_12 = nil
	end
end
return __if_ret_12

********************************************************************************

compiling:
(if nil (print "hoagie"))

IR:
EMPTYVAR __if_ret_14
VARFENCE 
NEWLVAR __cond_15 := PRIMITIVE nil
IF __cond_15
SETVAR __if_ret_14 := CALL print, "hoagie"
ELSE 
SETVAR __if_ret_14 := PRIMITIVE nil
ENDIF 
ENDVARFENCE 
RET PRIMITIVE __if_ret_14

Lua source code:
local tsukuyomi = tsukuyomi

local __tsukuyomi__DOT__core = tsukuyomi.get_namespace("tsukuyomi.core")

local __if_ret_14
do
	local __cond_15 = nil
	if __cond_15 then
		__if_ret_14 = __tsukuyomi__DOT__core["print"]("hoagie")
	else
		__if_ret_14 = nil
	end
end
return __if_ret_14

********************************************************************************

compiling:
(if true (print "pizza") (print "hotdog"))

IR:
EMPTYVAR __if_ret_16
VARFENCE 
NEWLVAR __cond_17 := PRIMITIVE true
IF __cond_17
SETVAR __if_ret_16 := CALL print, "pizza"
ELSE 
SETVAR __if_ret_16 := CALL print, "hotdog"
ENDIF 
ENDVARFENCE 
RET PRIMITIVE __if_ret_16

Lua source code:
local tsukuyomi = tsukuyomi

local __tsukuyomi__DOT__core = tsukuyomi.get_namespace("tsukuyomi.core")

local __if_ret_16
do
	local __cond_17 = true
	if __cond_17 then
		__if_ret_16 = __tsukuyomi__DOT__core["print"]("pizza")
	else
		__if_ret_16 = __tsukuyomi__DOT__core["print"]("hotdog")
	end
end
return __if_ret_16

********************************************************************************

compiling:
(if false (print "pizza") (print "hotdog"))

IR:
EMPTYVAR __if_ret_18
VARFENCE 
NEWLVAR __cond_19 := PRIMITIVE false
IF __cond_19
SETVAR __if_ret_18 := CALL print, "pizza"
ELSE 
SETVAR __if_ret_18 := CALL print, "hotdog"
ENDIF 
ENDVARFENCE 
RET PRIMITIVE __if_ret_18

Lua source code:
local tsukuyomi = tsukuyomi

local __tsukuyomi__DOT__core = tsukuyomi.get_namespace("tsukuyomi.core")

local __if_ret_18
do
	local __cond_19 = false
	if __cond_19 then
		__if_ret_18 = __tsukuyomi__DOT__core["print"]("pizza")
	else
		__if_ret_18 = __tsukuyomi__DOT__core["print"]("hotdog")
	end
end
return __if_ret_18

********************************************************************************

compiling:
(if ((fn [] (+ 1 1))) (print "pizza") (print "hotdog"))

IR:
EMPTYVAR __if_ret_20
VARFENCE 
NEWLVAR __arg_22 := FUNC 
VARFENCE 
RET CALL +, 1, 1
ENDVARFENCE 
ENDFUNC 
NEWLVAR __cond_21 := CALL __arg_22
IF __cond_21
SETVAR __if_ret_20 := CALL print, "pizza"
ELSE 
SETVAR __if_ret_20 := CALL print, "hotdog"
ENDIF 
ENDVARFENCE 
RET PRIMITIVE __if_ret_20

Lua source code:
local tsukuyomi = tsukuyomi

local __tsukuyomi__DOT__core = tsukuyomi.get_namespace("tsukuyomi.core")

local __if_ret_20
do
	local function __arg_22()
		do
			return __tsukuyomi__DOT__core["+"](1, 1)
		end
	end
	local __cond_21 = __arg_22()
	if __cond_21 then
		__if_ret_20 = __tsukuyomi__DOT__core["print"]("pizza")
	else
		__if_ret_20 = __tsukuyomi__DOT__core["print"]("hotdog")
	end
end
return __if_ret_20

********************************************************************************

compiling:
(if ((fn [] nil)) (print "pizza") (print "hotdog"))

IR:
EMPTYVAR __if_ret_23
VARFENCE 
NEWLVAR __arg_25 := FUNC 
VARFENCE 
RET PRIMITIVE nil
ENDVARFENCE 
ENDFUNC 
NEWLVAR __cond_24 := CALL __arg_25
IF __cond_24
SETVAR __if_ret_23 := CALL print, "pizza"
ELSE 
SETVAR __if_ret_23 := CALL print, "hotdog"
ENDIF 
ENDVARFENCE 
RET PRIMITIVE __if_ret_23

Lua source code:
local tsukuyomi = tsukuyomi

local __tsukuyomi__DOT__core = tsukuyomi.get_namespace("tsukuyomi.core")

local __if_ret_23
do
	local function __arg_25()
		do
			return nil
		end
	end
	local __cond_24 = __arg_25()
	if __cond_24 then
		__if_ret_23 = __tsukuyomi__DOT__core["print"]("pizza")
	else
		__if_ret_23 = __tsukuyomi__DOT__core["print"]("hotdog")
	end
end
return __if_ret_23

********************************************************************************

compiling:
(if ((fn [] true)) ((fn [x] (print (+ 1 x))) 24) (print "hotdog"))

IR:
EMPTYVAR __if_ret_26
VARFENCE 
NEWLVAR __arg_29 := FUNC 
VARFENCE 
RET PRIMITIVE true
ENDVARFENCE 
ENDFUNC 
NEWLVAR __cond_27 := CALL __arg_29
IF __cond_27
NEWLVAR __arg_28 := FUNC x
VARFENCE 
NEWLVAR __arg_30 := CALL +, 1, x
RET CALL print, __arg_30
ENDVARFENCE 
ENDFUNC 
SETVAR __if_ret_26 := CALL __arg_28, 24
ELSE 
SETVAR __if_ret_26 := CALL print, "hotdog"
ENDIF 
ENDVARFENCE 
RET PRIMITIVE __if_ret_26

Lua source code:
local tsukuyomi = tsukuyomi

local __tsukuyomi__DOT__core = tsukuyomi.get_namespace("tsukuyomi.core")

local __if_ret_26
do
	local function __arg_29()
		do
			return true
		end
	end
	local __cond_27 = __arg_29()
	if __cond_27 then
		local function __arg_28(x)
			do
				local __arg_30 = __tsukuyomi__DOT__core["+"](1, x)
				return __tsukuyomi__DOT__core["print"](__arg_30)
			end
		end
		__if_ret_26 = __arg_28(24)
	else
		__if_ret_26 = __tsukuyomi__DOT__core["print"]("hotdog")
	end
end
return __if_ret_26

********************************************************************************

compiling:
(def a (if true "mayo" "ketchup"))

IR:
EMPTYVAR __if_ret_31
VARFENCE 
NEWLVAR __cond_32 := PRIMITIVE true
IF __cond_32
SETVAR __if_ret_31 := PRIMITIVE "mayo"
ELSE 
SETVAR __if_ret_31 := PRIMITIVE "ketchup"
ENDIF 
ENDVARFENCE 
DEFSYM a := PRIMITIVE __if_ret_31
RET PRIMITIVE true

Lua source code:
local tsukuyomi = tsukuyomi

local __tsukuyomi__DOT__core = tsukuyomi.get_namespace("tsukuyomi.core")

local __if_ret_31
do
	local __cond_32 = true
	if __cond_32 then
		__if_ret_31 = "mayo"
	else
		__if_ret_31 = "ketchup"
	end
end
__tsukuyomi__DOT__core["a"] = __if_ret_31
return true

********************************************************************************

compiling:
(def b (if false "horseradish" "wasabi"))

IR:
EMPTYVAR __if_ret_33
VARFENCE 
NEWLVAR __cond_34 := PRIMITIVE false
IF __cond_34
SETVAR __if_ret_33 := PRIMITIVE "horseradish"
ELSE 
SETVAR __if_ret_33 := PRIMITIVE "wasabi"
ENDIF 
ENDVARFENCE 
DEFSYM b := PRIMITIVE __if_ret_33
RET PRIMITIVE true

Lua source code:
local tsukuyomi = tsukuyomi

local __tsukuyomi__DOT__core = tsukuyomi.get_namespace("tsukuyomi.core")

local __if_ret_33
do
	local __cond_34 = false
	if __cond_34 then
		__if_ret_33 = "horseradish"
	else
		__if_ret_33 = "wasabi"
	end
end
__tsukuyomi__DOT__core["b"] = __if_ret_33
return true

********************************************************************************

compiling:
(print a)

IR:
RET CALL print, a

Lua source code:
local tsukuyomi = tsukuyomi

local __tsukuyomi__DOT__core = tsukuyomi.get_namespace("tsukuyomi.core")

return __tsukuyomi__DOT__core["print"](__tsukuyomi__DOT__core["a"])

********************************************************************************

compiling:
(print b)

IR:
RET CALL print, b

Lua source code:
local tsukuyomi = tsukuyomi

local __tsukuyomi__DOT__core = tsukuyomi.get_namespace("tsukuyomi.core")

return __tsukuyomi__DOT__core["print"](__tsukuyomi__DOT__core["b"])

********************************************************************************

compiling:
(def c (if true (if true "ketchup" "mustard") (if false "jam" "gravy")))

IR:
EMPTYVAR __if_ret_35
VARFENCE 
NEWLVAR __cond_36 := PRIMITIVE true
IF __cond_36
EMPTYVAR __if_ret_37
VARFENCE 
NEWLVAR __cond_38 := PRIMITIVE true
IF __cond_38
SETVAR __if_ret_37 := PRIMITIVE "ketchup"
ELSE 
SETVAR __if_ret_37 := PRIMITIVE "mustard"
ENDIF 
ENDVARFENCE 
SETVAR __if_ret_35 := PRIMITIVE __if_ret_37
ELSE 
EMPTYVAR __if_ret_39
VARFENCE 
NEWLVAR __cond_40 := PRIMITIVE false
IF __cond_40
SETVAR __if_ret_39 := PRIMITIVE "jam"
ELSE 
SETVAR __if_ret_39 := PRIMITIVE "gravy"
ENDIF 
ENDVARFENCE 
SETVAR __if_ret_35 := PRIMITIVE __if_ret_39
ENDIF 
ENDVARFENCE 
DEFSYM c := PRIMITIVE __if_ret_35
RET PRIMITIVE true

Lua source code:
local tsukuyomi = tsukuyomi

local __tsukuyomi__DOT__core = tsukuyomi.get_namespace("tsukuyomi.core")

local __if_ret_35
do
	local __cond_36 = true
	if __cond_36 then
		local __if_ret_37
		do
			local __cond_38 = true
			if __cond_38 then
				__if_ret_37 = "ketchup"
			else
				__if_ret_37 = "mustard"
			end
		end
		__if_ret_35 = __if_ret_37
	else
		local __if_ret_39
		do
			local __cond_40 = false
			if __cond_40 then
				__if_ret_39 = "jam"
			else
				__if_ret_39 = "gravy"
			end
		end
		__if_ret_35 = __if_ret_39
	end
end
__tsukuyomi__DOT__core["c"] = __if_ret_35
return true

********************************************************************************

compiling:
(print c)

IR:
RET CALL print, c

Lua source code:
local tsukuyomi = tsukuyomi

local __tsukuyomi__DOT__core = tsukuyomi.get_namespace("tsukuyomi.core")

return __tsukuyomi__DOT__core["print"](__tsukuyomi__DOT__core["c"])

********************************************************************************

compiling:
(def f2 (fn [] (+ 1 1) (+ 2 2)))

IR:
DEFSYM f2 := FUNC 
VARFENCE 
CALL +, 1, 1
ENDVARFENCE 
VARFENCE 
RET CALL +, 2, 2
ENDVARFENCE 
ENDFUNC 
RET PRIMITIVE true

Lua source code:
local tsukuyomi = tsukuyomi

local __tsukuyomi__DOT__core = tsukuyomi.get_namespace("tsukuyomi.core")

__tsukuyomi__DOT__core["f2"] = function ()
	do
		__tsukuyomi__DOT__core["+"](1, 1)
	end
	do
		return __tsukuyomi__DOT__core["+"](2, 2)
	end
end
return true

********************************************************************************

compiling:
(def f3 (fn [x] (let [x 1 y x] y)))

IR:
DEFSYM f3 := FUNC x
VARFENCE 
EMPTYVAR __let_ret_41
VARFENCE 
LETFRAME x, y
NEWLVAR x := PRIMITIVE 1
NEWLVAR y := PRIMITIVE x
VARFENCE 
SETVAR __let_ret_41 := PRIMITIVE y
ENDVARFENCE 
ENDLETFRAME 
ENDVARFENCE 
RET PRIMITIVE __let_ret_41
ENDVARFENCE 
ENDFUNC 
RET PRIMITIVE true

Lua source code:
local tsukuyomi = tsukuyomi

local __tsukuyomi__DOT__core = tsukuyomi.get_namespace("tsukuyomi.core")

__tsukuyomi__DOT__core["f3"] = function (x)
	do
		local __let_ret_41
		do
			local x = 1
			local y = x
			do
				__let_ret_41 = y
			end
		end
		return __let_ret_41
	end
end
return true

********************************************************************************

compiling:
(print (f3 42))

IR:
NEWLVAR __arg_42 := CALL f3, 42
RET CALL print, __arg_42

Lua source code:
local tsukuyomi = tsukuyomi

local __tsukuyomi__DOT__core = tsukuyomi.get_namespace("tsukuyomi.core")

local __arg_42 = __tsukuyomi__DOT__core["f3"](42)
return __tsukuyomi__DOT__core["print"](__arg_42)

********************************************************************************

